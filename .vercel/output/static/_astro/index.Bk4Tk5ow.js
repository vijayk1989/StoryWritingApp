import{r as E,y as Tt}from"./index.BCPtUIm2.js";var qt={exports:{}},Ht={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G=E;function ne(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var se=typeof Object.is=="function"?Object.is:ne,oe=G.useState,re=G.useEffect,ie=G.useLayoutEffect,ae=G.useDebugValue;function ce(t,e){var n=e(),r=oe({inst:{value:n,getSnapshot:e}}),s=r[0].inst,o=r[1];return ie(function(){s.value=n,s.getSnapshot=e,dt(s)&&o({inst:s})},[t,n,e]),re(function(){return dt(s)&&o({inst:s}),t(function(){dt(s)&&o({inst:s})})},[t]),ae(n),n}function dt(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!se(t,n)}catch{return!0}}function ue(t,e){return e()}var fe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ue:ce;Ht.useSyncExternalStore=G.useSyncExternalStore!==void 0?G.useSyncExternalStore:fe;qt.exports=Ht;var le=qt.exports;const U=()=>{},O=U(),it=Object,a=t=>t===O,y=t=>typeof t=="function",M=(t,e)=>({...t,...e}),de=t=>y(t.then),ot=new WeakMap;let Ee=0;const Z=t=>{const e=typeof t,n=t&&t.constructor,r=n==Date;let s,o;if(it(t)===t&&!r&&n!=RegExp){if(s=ot.get(t),s)return s;if(s=++Ee+"~",ot.set(t,s),n==Array){for(s="@",o=0;o<t.length;o++)s+=Z(t[o])+",";ot.set(t,s)}if(n==it){s="#";const c=it.keys(t).sort();for(;!a(o=c.pop());)a(t[o])||(s+=o+":"+Z(t[o])+",");ot.set(t,s)}}else s=r?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return s},W=new WeakMap,Et={},rt={},wt="undefined",ct=typeof window!=wt,vt=typeof document!=wt,Re=()=>ct&&typeof window.requestAnimationFrame!=wt,jt=(t,e)=>{const n=W.get(t);return[()=>!a(e)&&t.get(e)||Et,r=>{if(!a(e)){const s=t.get(e);e in rt||(rt[e]=s),n[5](e,M(s,r),s||Et)}},n[6],()=>!a(e)&&e in rt?rt[e]:!a(e)&&t.get(e)||Et]};let St=!0;const he=()=>St,[pt,_t]=ct&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[U,U],ve=()=>{const t=vt&&document.visibilityState;return a(t)||t!=="hidden"},Se=t=>(vt&&document.addEventListener("visibilitychange",t),pt("focus",t),()=>{vt&&document.removeEventListener("visibilitychange",t),_t("focus",t)}),pe=t=>{const e=()=>{St=!0,t()},n=()=>{St=!1};return pt("online",e),pt("offline",n),()=>{_t("online",e),_t("offline",n)}},_e={isOnline:he,isVisible:ve},me={initFocus:Se,initReconnect:pe},Wt=!Tt.useId,tt=!ct||"Deno"in window,ge=t=>Re()?window.requestAnimationFrame(t):setTimeout(t,1),at=tt?E.useEffect:E.useLayoutEffect,Rt=typeof navigator<"u"&&navigator.connection,Mt=!tt&&Rt&&(["slow-2g","2g"].includes(Rt.effectiveType)||Rt.saveData),Ct=t=>{if(y(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?Z(t):"",[t,e]};let Te=0;const mt=()=>++Te,$t=0,kt=1,zt=2,we=3;var Q={__proto__:null,ERROR_REVALIDATE_EVENT:we,FOCUS_EVENT:$t,MUTATE_EVENT:zt,RECONNECT_EVENT:kt};async function Bt(...t){const[e,n,r,s]=t,o=M({populateCache:!0,throwOnError:!0},typeof s=="boolean"?{revalidate:s}:s||{});let c=o.populateCache;const d=o.rollbackOnError;let u=o.optimisticData;const A=w=>typeof d=="function"?d(w):d!==!1,m=o.throwOnError;if(y(n)){const w=n,v=[],I=e.keys();for(const p of I)!/^\$(inf|sub)\$/.test(p)&&w(e.get(p)._k)&&v.push(p);return Promise.all(v.map(S))}return S(n);async function S(w){const[v]=Ct(w);if(!v)return;const[I,p]=jt(e,v),[ut,i,et,Y]=W.get(e),P=()=>{const V=ut[v];return(y(o.revalidate)?o.revalidate(I().data,w):o.revalidate!==!1)&&(delete et[v],delete Y[v],V&&V[0])?V[0](zt).then(()=>I().data):I().data};if(t.length<3)return P();let g=r,D;const H=mt();i[v]=[H,0];const h=!a(u),j=I(),L=j.data,$=j._c,q=a($)?L:$;if(h&&(u=y(u)?u(q,L):u,p({data:u,_c:q})),y(g))try{g=g(q)}catch(V){D=V}if(g&&de(g))if(g=await g.catch(V=>{D=V}),H!==i[v][0]){if(D)throw D;return g}else D&&h&&A(D)&&(c=!0,p({data:q,_c:O}));if(c&&!D)if(y(c)){const V=c(g,q);p({data:V,error:O,_c:O})}else p({data:g,error:O,_c:O});if(i[v][1]=mt(),Promise.resolve(P()).then(()=>{p({_c:O})}),D){if(m)throw D;return}return g}}const Pt=(t,e)=>{for(const n in t)t[n][0]&&t[n][0](e)},Jt=(t,e)=>{if(!W.has(t)){const n=M(me,e),r={},s=Bt.bind(O,t);let o=U;const c={},d=(m,S)=>{const w=c[m]||[];return c[m]=w,w.push(S),()=>w.splice(w.indexOf(S),1)},u=(m,S,w)=>{t.set(m,S);const v=c[m];if(v)for(const I of v)I(S,w)},A=()=>{if(!W.has(t)&&(W.set(t,[r,{},{},{},s,u,d]),!tt)){const m=n.initFocus(setTimeout.bind(O,Pt.bind(O,r,$t))),S=n.initReconnect(setTimeout.bind(O,Pt.bind(O,r,kt)));o=()=>{m&&m(),S&&S(),W.delete(t)}}};return A(),[t,s,A,o]}return[t,W.get(t)[4]]},Ce=(t,e,n,r,s)=>{const o=n.errorRetryCount,c=s.retryCount,d=~~((Math.random()+.5)*(1<<(c<8?c:8)))*n.errorRetryInterval;!a(o)&&c>o||setTimeout(r,d,s)},Oe=(t,e)=>Z(t)==Z(e),[Ot,De]=Jt(new Map),Kt=M({onLoadingSlow:U,onSuccess:U,onError:U,onErrorRetry:Ce,onDiscarded:U,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Mt?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:Mt?5e3:3e3,compare:Oe,isPaused:()=>!1,cache:Ot,mutate:De,fallback:{}},_e),Gt=(t,e)=>{const n=M(t,e);if(e){const{use:r,fallback:s}=t,{use:o,fallback:c}=e;r&&o&&(n.use=r.concat(o)),s&&c&&(n.fallback=M(s,c))}return n},gt=E.createContext({}),be=t=>{const{value:e}=t,n=E.useContext(gt),r=y(e),s=E.useMemo(()=>r?e(n):e,[r,n,e]),o=E.useMemo(()=>r?s:Gt(n,s),[r,n,s]),c=s&&s.provider,d=E.useRef(O);c&&!d.current&&(d.current=Jt(c(o.cache||Ot),s));const u=d.current;return u&&(o.cache=u[0],o.mutate=u[1]),at(()=>{if(u)return u[2]&&u[2](),u[3]},[]),E.createElement(gt.Provider,M(t,{value:o}))},Ae="$inf$",Yt=ct&&window.__SWR_DEVTOOLS_USE__,Ve=Yt?window.__SWR_DEVTOOLS_USE__:[],ye=()=>{Yt&&(window.__SWR_DEVTOOLS_REACT__=Tt)},Ie=t=>y(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(t[1]===null?t[2]:t[1])||{}],Le=()=>M(Kt,E.useContext(gt)),Ne=t=>(e,n,r)=>t(e,n&&((...o)=>{const[c]=Ct(e),[,,,d]=W.get(Ot);if(c.startsWith(Ae))return n(...o);const u=d[c];return a(u)?n(...o):(delete d[c],u)}),r),xe=Ve.concat(Ne),Fe=t=>function(...n){const r=Le(),[s,o,c]=Ie(n),d=Gt(r,c);let u=t;const{use:A}=d,m=(A||[]).concat(xe);for(let S=m.length;S--;)u=m[S](u);return u(s,o||d.fetcher||null,d)},We=(t,e,n)=>{const r=e[t]||(e[t]=[]);return r.push(n),()=>{const s=r.indexOf(n);s>=0&&(r[s]=r[r.length-1],r.pop())}};ye();const Ut=Tt.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t)}),ht={dedupe:!0},Me=(t,e,n)=>{const{cache:r,compare:s,suspense:o,fallbackData:c,revalidateOnMount:d,revalidateIfStale:u,refreshInterval:A,refreshWhenHidden:m,refreshWhenOffline:S,keepPreviousData:w}=n,[v,I,p,ut]=W.get(r),[i,et]=Ct(t),Y=E.useRef(!1),P=E.useRef(!1),g=E.useRef(i),D=E.useRef(e),H=E.useRef(n),h=()=>H.current,j=()=>h().isVisible()&&h().isOnline(),[L,$,q,V]=jt(r,i),k=E.useRef({}).current,Xt=a(c)?n.fallback[i]:c,Dt=(f,l)=>{for(const T in k){const R=T;if(R==="data"){if(!s(f[R],l[R])&&(!a(f[R])||!s(st,l[R])))return!1}else if(l[R]!==f[R])return!1}return!0},bt=E.useMemo(()=>{const f=!i||!e?!1:a(d)?h().isPaused()||o?!1:a(u)?!0:u:d,l=C=>{const x=M(C);return delete x._k,f?{isValidating:!0,isLoading:!0,...x}:x},T=L(),R=V(),N=l(T),K=T===R?N:l(R);let _=N;return[()=>{const C=l(L());return Dt(C,_)?(_.data=C.data,_.isLoading=C.isLoading,_.isValidating=C.isValidating,_.error=C.error,_):(_=C,C)},()=>K]},[r,i]),z=le.useSyncExternalStore(E.useCallback(f=>q(i,(l,T)=>{Dt(T,l)||f()}),[r,i]),bt[0],bt[1]),At=!Y.current,Qt=v[i]&&v[i].length>0,B=z.data,J=a(B)?Xt:B,nt=z.error,Vt=E.useRef(J),st=w?a(B)?Vt.current:B:J,yt=Qt&&!a(nt)?!1:At&&!a(d)?d:h().isPaused()?!1:o?a(J)?!1:u:a(J)||u,It=!!(i&&e&&At&&yt),Zt=a(z.isValidating)?It:z.isValidating,te=a(z.isLoading)?It:z.isLoading,X=E.useCallback(async f=>{const l=D.current;if(!i||!l||P.current||h().isPaused())return!1;let T,R,N=!0;const K=f||{},_=!p[i]||!K.dedupe,C=()=>Wt?!P.current&&i===g.current&&Y.current:i===g.current,x={isValidating:!1,isLoading:!1},Nt=()=>{$(x)},xt=()=>{const b=p[i];b&&b[1]===R&&delete p[i]},Ft={isValidating:!0};a(L().data)&&(Ft.isLoading=!0);try{if(_&&($(Ft),n.loadingTimeout&&a(L().data)&&setTimeout(()=>{N&&C()&&h().onLoadingSlow(i,n)},n.loadingTimeout),p[i]=[l(et),mt()]),[T,R]=p[i],T=await T,_&&setTimeout(xt,n.dedupingInterval),!p[i]||p[i][1]!==R)return _&&C()&&h().onDiscarded(i),!1;x.error=O;const b=I[i];if(!a(b)&&(R<=b[0]||R<=b[1]||b[1]===0))return Nt(),_&&C()&&h().onDiscarded(i),!1;const F=L().data;x.data=s(F,T)?F:T,_&&C()&&h().onSuccess(T,i,n)}catch(b){xt();const F=h(),{shouldRetryOnError:ft}=F;F.isPaused()||(x.error=b,_&&C()&&(F.onError(b,i,F),(ft===!0||y(ft)&&ft(b))&&(!h().revalidateOnFocus||!h().revalidateOnReconnect||j())&&F.onErrorRetry(b,i,F,ee=>{const lt=v[i];lt&&lt[0]&&lt[0](Q.ERROR_REVALIDATE_EVENT,ee)},{retryCount:(K.retryCount||0)+1,dedupe:!0})))}return N=!1,Nt(),!0},[i,r]),Lt=E.useCallback((...f)=>Bt(r,g.current,...f),[]);if(at(()=>{D.current=e,H.current=n,a(B)||(Vt.current=B)}),at(()=>{if(!i)return;const f=X.bind(O,ht);let l=0;const R=We(i,v,(N,K={})=>{if(N==Q.FOCUS_EVENT){const _=Date.now();h().revalidateOnFocus&&_>l&&j()&&(l=_+h().focusThrottleInterval,f())}else if(N==Q.RECONNECT_EVENT)h().revalidateOnReconnect&&j()&&f();else{if(N==Q.MUTATE_EVENT)return X();if(N==Q.ERROR_REVALIDATE_EVENT)return X(K)}});return P.current=!1,g.current=i,Y.current=!0,$({_k:et}),yt&&(a(J)||tt?f():ge(f)),()=>{P.current=!0,R()}},[i]),at(()=>{let f;function l(){const R=y(A)?A(L().data):A;R&&f!==-1&&(f=setTimeout(T,R))}function T(){!L().error&&(m||h().isVisible())&&(S||h().isOnline())?X(ht).then(l):l()}return l(),()=>{f&&(clearTimeout(f),f=-1)}},[A,m,S,i]),E.useDebugValue(st),o&&a(J)&&i){if(!Wt&&tt)throw new Error("Fallback data is required when using suspense in SSR.");D.current=e,H.current=n,P.current=!1;const f=ut[i];if(!a(f)){const l=Lt(f);Ut(l)}if(a(nt)){const l=X(ht);a(st)||(l.status="fulfilled",l.value=!0),Ut(l)}else throw nt}return{mutate:Lt,get data(){return k.data=!0,st},get error(){return k.error=!0,nt},get isValidating(){return k.isValidating=!0,Zt},get isLoading(){return k.isLoading=!0,te}}},Ue=it.defineProperty(be,"defaultValue",{value:Kt}),qe=Fe(Me);export{Ue as S,De as m,qe as u};
