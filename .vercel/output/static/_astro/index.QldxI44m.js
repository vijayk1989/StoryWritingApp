import{e as V}from"./index.BXw2f0Wr.js";import"./index.BCPtUIm2.js";const z=function(e,t,n,r,i){const l=W(t);return!e||!e.type||typeof e.type!="string"?!1:l.call(i,e,n,r)},W=function(e){if(e==null)return M;if(typeof e=="string")return je(e);if(typeof e=="object")return Be(e);if(typeof e=="function")return se(e);throw new Error("Expected function, string, or array as test")};function Be(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=W(e[n]);return se(r);function r(...i){let l=-1;for(;++l<t.length;)if(t[l].call(this,...i))return!0;return!1}}function je(e){return t;function t(n){return M(n)&&n.tagName===e}}function se(e){return t;function t(n,...r){return M(n)&&!!e.call(this,n,...r)}}function M(e){return!!(e&&typeof e=="object"&&e.type==="element"&&typeof e.tagName=="string")}const Te=W(["audio","canvas","embed","iframe","img","math","object","picture","svg","video"]),oe=function(e){if(e==null)return Oe;if(typeof e=="string")return Fe(e);if(typeof e=="object")return Array.isArray(e)?Ee(e):Ce(e);if(typeof e=="function")return E(e);throw new Error("Expected function, string, or object as test")};function Ee(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=oe(e[n]);return E(r);function r(...i){let l=-1;for(;++l<t.length;)if(t[l].call(this,...i))return!0;return!1}}function Ce(e){return E(t);function t(n){let r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function Fe(e){return E(t);function t(n){return n&&n.type===e}}function E(e){return t;function t(n,...r){return!!(n&&typeof n=="object"&&"type"in n&&e.call(this,n,...r))}}function Oe(){return!0}function qe(e){const t=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof t=="string"&&t.replace(/[ \t\n\f\r]/g,"")===""}const Re=["address","article","aside","blockquote","body","br","caption","center","col","colgroup","dd","dialog","dir","div","dl","dt","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","legend","li","li","listing","main","menu","nav","ol","optgroup","option","p","plaintext","pre","section","summary","table","tbody","td","td","tfoot","th","th","thead","tr","ul","wbr","xmp"],Pe=["button","input","select","textarea"],Ue=["area","base","basefont","dialog","datalist","head","link","meta","noembed","noframes","param","rp","script","source","style","template","track","title"],H=oe(["doctype","comment"]);function Le(e={}){const t=Ve(e.newlines?De:Ke);return n=>{ae(n,{collapse:t,whitespace:"normal"})}}function ae(e,t){if("children"in e){const n=Object.assign({},t);return(e.type==="root"||pe(e))&&(n.before=!0,n.after=!0),n.whitespace=Xe(e,t),We(e,n)}if(e.type==="text"){if(t.whitespace==="normal")return ze(e,t);t.whitespace==="nowrap"&&(e.value=t.collapse(e.value))}return{remove:!1,ignore:H(e),stripAtStart:!1}}function ze(e,t){const n=t.collapse(e.value),r={remove:!1,ignore:!1,stripAtStart:!1};let i=0,l=n.length;return t.before&&X(n.charAt(0))&&i++,i!==l&&X(n.charAt(l-1))&&(t.after?l--:r.stripAtStart=!0),i===l?r.remove=!0:e.value=n.slice(i,l),r}function We(e,t){let n=t.before;const r=t.after,i=e.children;let l=i.length,c=-1;for(;++c<l;){const s=ae(i[c],Object.assign({},t,{before:n,after:ue(i,c,r)}));s.remove?(i.splice(c,1),c--,l--):s.ignore||(n=s.stripAtStart),fe(i[c])&&(n=!1)}return{remove:!1,ignore:!1,stripAtStart:!!(n||r)}}function ue(e,t,n){for(;++t<e.length;){const r=e[t];let i=Me(r);if(i===void 0&&"children"in r&&!He(r)&&(i=ue(r.children,-1)),typeof i=="boolean")return i}return n}function Me(e){if(e.type==="element"){if(fe(e))return!1;if(pe(e))return!0}else if(e.type==="text"){if(!qe(e))return!1}else if(!H(e))return!1}function fe(e){return Te(e)||z(e,Pe)}function pe(e){return z(e,Re)}function He(e){return!!("properties"in e&&e.properties&&e.properties.hidden)||H(e)||z(e,Ue)}function X(e){return e===" "||e===`
`}function De(e){const t=/\r?\n|\r/.exec(e);return t?t[0]:" "}function Ke(){return" "}function Ve(e){return t;function t(n){return String(n).replace(/[\t\n\v\f\r ]+/g,e)}}function Xe(e,t){if("tagName"in e&&e.properties)switch(e.tagName){case"listing":case"plaintext":case"script":case"style":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return e.properties.wrap?"pre-wrap":"pre";case"td":case"th":return e.properties.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}return t.whitespace}const N=function(e){if(e==null)return Je;if(typeof e=="string")return Ge(e);if(typeof e=="object")return Array.isArray(e)?Ye(e):_e(e);if(typeof e=="function")return C(e);throw new Error("Expected function, string, or object as test")};function Ye(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=N(e[n]);return C(r);function r(...i){let l=-1;for(;++l<t.length;)if(t[l].call(this,...i))return!0;return!1}}function _e(e){return C(t);function t(n){let r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function Ge(e){return C(t);function t(n){return n&&n.type===e}}function C(e){return t;function t(n,...r){return!!(n&&typeof n=="object"&&"type"in n&&e.call(this,n,...r))}}function Je(){return!0}const Qe=!0,U=!1,he="skip",Ze=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null);const i=N(t),l=r?-1:1;c(e,void 0,[])();function c(s,o,u){const p=s&&typeof s=="object"?s:{};if(typeof p.type=="string"){const g=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(w,"name",{value:"node ("+(s.type+(g?"<"+g+">":""))+")"})}return w;function w(){let g=[],b,m,S;if((!t||i(s,o,u[u.length-1]||null))&&(g=et(n(s,u)),g[0]===U))return g;if(s.children&&g[0]!==he)for(m=(r?s.children.length:-1)+l,S=u.concat(s);m>-1&&m<s.children.length;){if(b=c(s.children[m],m,S)(),b[0]===U)return b;m=typeof b[1]=="number"?b[1]:m+l}return g}}};function et(e){return Array.isArray(e)?e:typeof e=="number"?[Qe,e]:[e]}const j=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null),Ze(e,t,i,r);function i(l,c){const s=c[c.length-1];return n(l,s?s.children.indexOf(l):null,s)}};function a(e,t){const n=t.children||[],r=[];let i=-1;for(;++i<n.length;){const s=de(e,n[i],t);Array.isArray(s)?r.push(...s):s&&r.push(s)}let l=0,c=r.length;for(;l<c&&r[l].type==="break";)l++;for(;c>l&&r[c-1].type==="break";)c--;return l===0&&c===r.length?r:r.slice(l,c)}const T={}.hasOwnProperty;function y(e,t){return e.wrapText?t:t.replace(/\r?\n|\r/g," ")}function de(e,t,n){let r;if(t.type==="element"){if(t.properties&&t.properties.dataMdast==="ignore")return;T.call(e.handlers,t.tagName)&&(r=e.handlers[t.tagName])}else T.call(e.handlers,t.type)&&(r=e.handlers[t.type]);return typeof r=="function"?r(e,t,n):tt(e,t)}function tt(e,t){return typeof t.value=="string"?e(t,"text",y(e,t.value)):a(e,t)}const nt=function(e,t,n,r,i){const l=h(t);return!e||!e.type||typeof e.type!="string"?!1:l.call(i,e,n,r)},h=function(e){if(e==null)return D;if(typeof e=="string")return it(e);if(typeof e=="object")return rt(e);if(typeof e=="function")return ge(e);throw new Error("Expected function, string, or array as test")};function rt(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=h(e[n]);return ge(r);function r(...i){let l=-1;for(;++l<t.length;)if(t[l].call(this,...i))return!0;return!1}}function it(e){return t;function t(n){return D(n)&&n.tagName===e}}function ge(e){return t;function t(n,...r){return D(n)&&!!e.call(this,n,...r)}}function D(e){return!!(e&&typeof e=="object"&&e.type==="element"&&typeof e.tagName=="string")}const lt={}.hasOwnProperty;function A(e,t){const n=typeof t=="string"&&ct(e)&&e.type==="element"&&e.properties&&lt.call(e.properties,t)&&e.properties[t];return n!=null&&n!==!1}function ct(e){return!!(e&&typeof e=="object"&&"type"in e)}const st=h(["audio","canvas","embed","iframe","img","math","object","picture","svg","video"]),ot=new Set(["pingback","prefetch","stylesheet"]);function at(e){if(!nt(e,"link"))return!1;if(A(e,"itemProp"))return!0;const n=(e.properties||{}).rel||[];let r=-1;if(!Array.isArray(n)||n.length===0)return!1;for(;++r<n.length;)if(!ot.has(String(n[r])))return!1;return!0}const ut=h(["a","abbr","area","b","bdi","bdo","br","button","cite","code","data","datalist","del","dfn","em","i","input","ins","kbd","keygen","label","map","mark","meter","noscript","output","progress","q","ruby","s","samp","script","select","small","span","strong","sub","sup","template","textarea","time","u","var","wbr"]),ft=h("meta");function pt(e){return!!(ht(e)&&(e.type==="text"||ut(e)||st(e)||at(e)||ft(e)&&A(e,"itemProp")))}function ht(e){return e&&typeof e=="object"&&"type"in e}const dt=N(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","link","linkReference","strong","text"]);function ye(e){return me(e,t);function t(n){const r=n[0];return n.length===1&&r.type==="text"&&(r.value===" "||r.value===`
`)?[]:{type:"paragraph",children:n}}}function F(e){let t=-1,n;for(;++t<e.length;)if(n=e[t],!be(n)||"children"in n&&F(n.children))return!0;return!1}function me(e,t,n){const r=n||mt,i=gt(e);let l=[],c=-1,s,o;for(;++c<i.length;)o=i[c],be(o)?(s||(s=[]),s.push(o)):(s&&(l=l.concat(t(s)),s=void 0),l=l.concat(r(o)));return s&&(l=l.concat(t(s))),l}function gt(e){let t=[],n=-1,r;for(;++n<e.length;)r=e[n],(r.type==="delete"||r.type==="link")&&F(r.children)?t=t.concat(yt(r)):t.push(r);return t}function yt(e){return me(e.children,n,t);function t(r){if("children"in r&&"children"in e){const{children:i,...l}=e;return{...r,children:[{...V(!0,{},l),children:r.children}]}}return{...r}}function n(r){const{children:i,...l}=e;return{...V(!0,{},l),children:r}}}function be(e){return e.data&&e.data.hName?pt({type:"element",tagName:e.data.hName,properties:{},children:[]}):dt(e)}function mt(e){return e}function d(e,t){return ye(a(e,t))}function x(e,t){return t==null?"":e.frozenBaseUrl?String(new URL(t,e.frozenBaseUrl)):t}function bt(e,t){const n=t.properties;return e(t,"link",{title:n.title||null,url:x(e,String(n.href||"")||null)},a(e,t))}function wt(e,t){e.baseFound||(e.frozenBaseUrl=String(t.properties&&t.properties.href||"")||null,e.baseFound=!0)}function xt(e,t){return e(t,"blockquote",d(e,t))}function kt(e,t){return e.wrapText?e(t,"break"):e(t,"text"," ")}const Y=function(e,t,n){const r=N(n);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof t=="number"){if(t<0||t===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(t=e.children.indexOf(t),t<0)throw new Error("Expected child node or index");for(;++t<e.children.length;)if(r(e.children[t],t,e))return e.children[t];return null},_=/\n/g,G=/[\t ]+/g,L=h("br"),St=h("p"),J=h(["th","td"]),Q=h("tr"),vt=h(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",$t,Bt]),we=h(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function I(e,t={}){const n="children"in e?e.children:[],r=we(e),i=Se(e,{whitespace:t.whitespace||"normal"}),l=[];(e.type==="text"||e.type==="comment")&&l.push(...ke(e,{breakBefore:!0,breakAfter:!0}));let c=-1;for(;++c<n.length;)l.push(...xe(n[c],e,{whitespace:i,breakBefore:c?void 0:r,breakAfter:c<n.length-1?L(n[c+1]):r}));const s=[];let o;for(c=-1;++c<l.length;){const u=l[c];typeof u=="number"?o!==void 0&&u>o&&(o=u):u&&(o!==void 0&&o>-1&&s.push(`
`.repeat(o)||" "),o=-1,s.push(u))}return s.join("")}function xe(e,t,n){return e.type==="element"?Nt(e,t,n):e.type==="text"?n.whitespace==="normal"?ke(e,n):At(e):[]}function Nt(e,t,n){const r=Se(e,n),i=e.children||[];let l=-1,c=[];if(vt(e))return c;let s,o;for(L(e)||Q(e)&&Y(t,e,Q)?o=`
`:St(e)?(s=2,o=2):we(e)&&(s=1,o=1);++l<i.length;)c=c.concat(xe(i[l],e,{whitespace:r,breakBefore:l?void 0:s,breakAfter:l<i.length-1?L(i[l+1]):o}));return J(e)&&Y(t,e,J)&&c.push("	"),s&&c.unshift(s),o&&c.push(o),c}function ke(e,t){const n=String(e.value),r=[],i=[];let l=0;for(;l<=n.length;){_.lastIndex=l;const o=_.exec(n),u=o&&"index"in o?o.index:n.length;r.push(It(n.slice(l,u).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),l===0?t.breakBefore:!0,u===n.length?t.breakAfter:!0)),l=u+1}let c=-1,s;for(;++c<r.length;)r[c].charCodeAt(r[c].length-1)===8203||c<r.length-1&&r[c+1].charCodeAt(0)===8203?(i.push(r[c]),s=void 0):r[c]?(typeof s=="number"&&i.push(s),i.push(r[c]),s=0):(c===0||c===r.length-1)&&i.push(0);return i}function At(e){return[String(e.value)]}function It(e,t,n){const r=[];let i=0,l;for(;i<e.length;){G.lastIndex=i;const c=G.exec(e);l=c?c.index:e.length,!i&&!l&&c&&!t&&r.push(""),i!==l&&r.push(e.slice(i,l)),i=c?l+c[0].length:l}return i!==l&&!n&&r.push(""),r.join(" ")}function Se(e,t){if(e.type==="element"){const n=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return n.wrap?"pre-wrap":"pre";case"td":case"th":return n.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}function $t(e){return!!(e.properties||{}).hidden}function Bt(e){return e.tagName==="dialog"&&!(e.properties||{}).open}function jt(e){const t=String(e);let n=t.length;for(;n>0;){const r=t.codePointAt(n-1);if(r!==void 0&&(r===10||r===13))n--;else break}return t.slice(0,n)}const O="language-",Tt=h("pre"),Et=h("code");function $(e,t){const n=t.children;let r=-1,i,l;if(Tt(t))for(;++r<n.length;){const c=n[r];if(Et(c)&&c.properties&&c.properties.className&&Array.isArray(c.properties.className)){i=c.properties.className;break}}if(i){for(r=-1;++r<i.length;)if(String(i[r]).slice(0,O.length)===O){l=String(i[r]).slice(O.length);break}}return e(t,"code",{lang:l||null,meta:null},jt(y(e,I(t))))}function Ct(e,t){return e(t,"html","<!--"+y(e,t.value)+"-->")}function q(e,t){return e(t,"delete",a(e,t))}function K(e){let t=-1;if(e.length>1){for(;++t<e.length;)if(e[t].spread)return!0}return!1}function ve(e,t){const n=a(e,t);let r=-1;for(;++r<n.length;){const i=n[r];i.type!=="listItem"&&(n[r]={type:"listItem",spread:!1,checked:null,children:[i]})}return n}const Ft=h("div"),Ot=h("dt"),qt=h("dd");function Rt(e,t){const n=t.children;let r=-1,i=[];const l=[];let c={titles:[],definitions:[]},s,o;for(;++r<n.length;)s=n[r],i=i.concat(Ft(s)?s.children:s);for(r=-1;++r<i.length;)s=i[r],Ot(s)?(qt(i[r-1])&&(l.push(c),c={titles:[],definitions:[]}),c.titles.push(s)):c.definitions.push(s);l.push(c),r=-1;const u=[];for(;++r<l.length;)o=[...Z(e,l[r].titles),...Z(e,l[r].definitions)],o.length>0&&u.push({type:"listItem",spread:o.length>1,checked:null,children:o});if(u.length>0)return e(t,"list",{ordered:!1,start:null,spread:K(u)},u)}function Z(e,t){const n=ve(e,{type:"element",tagName:"x",children:t});return n.length===0?[]:n.length===1?n[0].children:[{type:"list",ordered:!1,start:null,spread:K(n),children:n}]}function B(e,t){return e(t,"emphasis",a(e,t))}function k(e,t){const n=Number(t.tagName.charAt(1))||1,r=e.wrapText;e.wrapText=!1;const i=e(t,"heading",{depth:n},a(e,t));return e.wrapText=r,i}function Pt(e,t){return e(t,"thematicBreak")}function Ut(e,t){const n=t.properties,r=String(n.src||""),i=String(n.title||"");if(r&&i)return{type:"link",title:null,url:x(e,r),children:[{type:"text",value:y(e,i)}]}}function ee(e,t){const n=t.properties;return e(t,"image",{url:x(e,String(n.src||"")||null),title:n.title||null,alt:n.alt||""})}function v(e,t){return e(t,"inlineCode",y(e,I(t)))}const Lt=h("option");function Ne(e,t,n){const r=n||t.properties;let i=Ae(t);const l=Math.min(Number.parseInt(String(r.size),10),0)||(r.multiple?4:1);let c=-1;const s=[],o=[];for(;++c<i.length;)A(i[c],"selected")&&s.push(i[c]);for(i=(s.length>0?s:i).slice(0,l),c=-1;++c<i.length;){const p=i[c],w=y(e,I(p)),g=p.properties,b=w||String(g.label||""),m=String(g.value||"")||w;o.push([m,b===m?null:b])}return o}function Ae(e){const t=e.children;let n=-1,r=[],i;for(;++n<t.length;)i=t[n],Array.isArray(i.children)&&(r=r.concat(Ae(i))),Lt(i)&&!A(i,"disabled")&&r.push(i);return r}const zt=h("datalist");function Wt(e,t){const n=t.properties;let r=String(n.value||n.placeholder||"");const i=[],l=[];let c=[],s=-1,o;if(!(n.disabled||n.type==="hidden"||n.type==="file")){if(n.type==="checkbox"||n.type==="radio")return e(t,"text",y(e,e[n.checked?"checked":"unchecked"]));if(n.type==="image")return n.alt||r?e(t,"image",{url:x(e,String(n.src||"")||null),title:y(e,String(n.title||""))||null,alt:y(e,String(n.alt||r))}):[];if(r?c=[[r,null]]:n.type!=="password"&&n.type!=="file"&&n.type!=="submit"&&n.type!=="reset"&&n.type!=="button"&&n.list&&(o=String(n.list).toUpperCase(),T.call(e.nodeById,o)&&zt(e.nodeById[o])&&(c=Ne(e,e.nodeById[o],n))),c.length!==0){if(n.type==="password"&&(c[0]=["•".repeat(c[0][0].length),null]),n.type==="url"||n.type==="email"){for(;++s<c.length;)r=x(e,c[s][0]),i.push(e(t,"link",{title:null,url:y(e,n.type==="email"?"mailto:"+r:r)},[{type:"text",value:y(e,c[s][1]||r)}])),s!==c.length-1&&i.push({type:"text",value:", "});return i}for(;++s<c.length;)l.push(c[s][1]?c[s][1]+" ("+c[s][0]+")":c[s][0]);return e(t,"text",y(e,l.join(", ")))}}}const Mt=h("p"),Ht=h("input");function R(e,t){const n=t.children[0];let r=null,i,l;Mt(n)&&(i=n.children[0],Ht(i)&&i.properties&&(i.properties.type==="checkbox"||i.properties.type==="radio")&&(r=!!i.properties.checked,l={...t,children:[{...n,children:n.children.slice(1)},...t.children.slice(1)]}));const c=d(e,l||t);return e(t,"listItem",{spread:c.length>1,checked:r},c)}const Dt=h("ol");function P(e,t){const n=Dt(t),r=ve(e,t);let i=null;return n&&(i=A(t,"start")?Number.parseInt(String(t.properties.start),10):1),e(t,"list",{ordered:n,start:i,spread:K(r)},r)}const Kt={};function Vt(e,t){const n=Kt,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Ie(e,r,i)}function Ie(e,t,n){if(Xt(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return te(e.children,t,n)}return Array.isArray(e)?te(e,t,n):""}function te(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=Ie(e[i],t,n);return r.join("")}function Xt(e){return!!(e&&typeof e=="object")}const Yt=h("source"),_t=h("video");function ne(e,t){let n=a(e,t);const r=t.properties,i=_t(t)&&String(r.poster||"");let l=String(r.src||""),c=-1,s=!1,o;if(j({type:"root",children:n},"link",u),s||F(n))return n;for(;!l&&++c<t.children.length;)o=t.children[c],Yt(o)&&(l=String(o.properties.src||""));return i&&(n=[{type:"image",title:null,url:x(e,i),alt:Vt({children:n})}]),{type:"link",title:t.properties.title||null,url:x(e,l),children:n};function u(){return s=!0,U}}function re(e,t){const n=a(e,t);if(n.length>0)return e(t,"paragraph",n)}function Gt(e,t){const n=e.quotes[e.qNesting%e.quotes.length];e.qNesting++;const r=a(e,t);return e.qNesting--,r.unshift({type:"text",value:n.charAt(0)}),r.push({type:"text",value:n.length>1?n.charAt(1):n}),r}function Jt(e,t){let n=a(e,t);return(e.document||F(n))&&(n=ye(n)),e(t,"root",n)}function Qt(e,t){const n=Ne(e,t);let r=-1;const i=[];let l;for(;++r<n.length;)l=n[r],i.push(l[1]?l[1]+" ("+l[0]+")":l[0]);if(i.length>0)return e(t,"text",y(e,i.join(", ")))}function ie(e,t){return e(t,"strong",a(e,t))}function le(e,t){const n=e.wrapText;e.wrapText=!1;const r=e(t,"tableCell",a(e,t));if(t.properties&&(t.properties.rowSpan||t.properties.colSpan)){const i=r.data||(r.data={});t.properties.rowSpan&&(i.rowSpan=t.properties.rowSpan),t.properties.colSpan&&(i.colSpan=t.properties.colSpan)}return e.wrapText=n,r}function Zt(e,t){return e(t,"tableRow",a(e,t))}const en=h("thead"),tn=h("tr"),nn=h(["th","td"]);function rn(e,t){if(e.inTable)return e(t,"text",y(e,I(t)));e.inTable=!0;const{headless:n,align:r}=ln(t),i=cn(a(e,t),n);let l=1,c=-1;for(;++c<i.length;){const o=i[c].children;let u=-1;for(;++u<o.length;){const p=o[u];if(p.data){const w=Number.parseInt(String(p.data.colSpan),10)||1,g=Number.parseInt(String(p.data.rowSpan),10)||1;if(w>1||g>1){let b=c-1;for(;++b<c+g;){let m=u-1;for(;++m<u+w&&i[b];){const S=[];(b!==c||m!==u)&&S.push({type:"tableCell",children:[]}),i[b].children.splice(m,0,...S)}}}"colSpan"in p.data&&delete p.data.colSpan,"rowSpan"in p.data&&delete p.data.rowSpan,Object.keys(p.data).length===0&&delete p.data}}o.length>l&&(l=o.length)}for(c=-1;++c<i.length;){const o=i[c].children;let u=o.length-1;for(;++u<l;)o.push({type:"tableCell",children:[]})}let s=r.length-1;for(;++s<l;)r.push(null);return e.inTable=!1,e(t,"table",{align:r},i)}function ln(e){let t=!0,n=0,r=0;const i=[null];return j(e,"element",l=>{if(l.tagName==="table"&&e!==l)return he;nn(l)&&l.properties?(i[r]||(i[r]=String(l.properties.align||"")||null),t&&n<2&&l.tagName==="th"&&(t=!1),r++):en(l)?t=!1:tn(l)&&(n++,r=0)}),{align:i,headless:t}}function cn(e,t){let n=-1;const r=[];let i;for(t&&r.push({type:"tableRow",children:[]});++n<e.length;){const l=e[n];l.type==="tableRow"?(i&&(l.children.unshift(...i),i=void 0),r.push(l)):(i||(i=[]),i.push(l))}for(i&&r[r.length-1].children.push(...i),n=-1;++n<r.length;)r[n].children=sn(r[n].children);return r}function sn(e){const t=[];let n=-1,r,i;for(;++n<e.length;)r=e[n],r.type==="tableCell"?(i&&(r.children.unshift(...i),i=void 0),t.push(r)):(i||(i=[]),i.push(r));return i&&(r=t[t.length-1],r||(r={type:"tableCell",children:[]},t.push(r)),r.children.push(...i)),t}function on(e,t){return e(t,"text",y(e,t.value))}function an(e,t){return e(t,"text",y(e,I(t)))}function un(e,t){return e(t,"text","​")}const ce={root:Jt,text:on,comment:Ct,doctype:f,applet:f,area:f,basefont:f,bgsound:f,caption:f,col:f,colgroup:f,command:f,content:f,datalist:f,dialog:f,element:f,embed:f,frame:f,frameset:f,isindex:f,keygen:f,link:f,math:f,menu:f,menuitem:f,meta:f,nextid:f,noembed:f,noframes:f,optgroup:f,option:f,param:f,script:f,shadow:f,source:f,spacer:f,style:f,svg:f,template:f,title:f,track:f,abbr:a,acronym:a,bdi:a,bdo:a,big:a,blink:a,button:a,canvas:a,cite:a,data:a,details:a,dfn:a,font:a,ins:a,label:a,map:a,marquee:a,meter:a,nobr:a,noscript:a,object:a,output:a,progress:a,rb:a,rbc:a,rp:a,rt:a,rtc:a,ruby:a,slot:a,small:a,span:a,sup:a,sub:a,tbody:a,tfoot:a,thead:a,time:a,address:d,article:d,aside:d,body:d,center:d,div:d,fieldset:d,figcaption:d,figure:d,form:d,footer:d,header:d,hgroup:d,html:d,legend:d,main:d,multicol:d,nav:d,picture:d,section:d,a:bt,audio:ne,b:ie,base:wt,blockquote:xt,br:kt,code:v,dir:P,dl:Rt,dt:R,dd:R,del:q,em:B,h1:k,h2:k,h3:k,h4:k,h5:k,h6:k,hr:Pt,i:B,iframe:Ut,img:ee,image:ee,input:Wt,kbd:v,li:R,listing:$,mark:B,ol:P,p:re,plaintext:$,pre:$,q:Gt,s:q,samp:v,select:Qt,strike:q,strong:ie,summary:re,table:rn,td:le,textarea:an,th:le,tr:Zt,tt:v,u:B,ul:P,var:v,video:ne,wbr:un,xmp:$};function f(){}const fn=N(["heading","paragraph","root"]);function $e(e,t={}){const n={};let r;const i=Object.assign((s,o,u,p)=>{let w;typeof u=="string"||Array.isArray(u)?(p=u,w={}):w=u;const g={type:o,...w};return typeof p=="string"?g.value=p:p&&(g.children=p),s.position&&(g.position=s.position),g},{nodeById:n,baseFound:!1,inTable:!1,wrapText:!0,frozenBaseUrl:null,qNesting:0,handlers:t.handlers?{...ce,...t.handlers}:ce,document:t.document,checked:t.checked||"[x]",unchecked:t.unchecked||"[ ]",quotes:t.quotes||['"']});j(e,"element",s=>{const o=s.properties&&"id"in s.properties&&String(s.properties.id).toUpperCase();o&&!T.call(n,o)&&(n[o]=s)}),Le({newlines:t.newlines===!0})(e);const l=de(i,e,void 0);return l?Array.isArray(l)?r={type:"root",children:l}:r=l:r={type:"root",children:[]},j(r,"text",c),r;function c(s,o,u){if(o===null||!u)return;const p=u.children[o-1];if(p&&p.type===s.type)return p.value+=s.value,u.children.splice(o,1),p.position&&s.position&&(p.position.end=s.position.end),o-1;if(s.value=s.value.replace(/[\t ]*(\r?\n|\r)[\t ]*/,"$1"),u&&fn(u)&&(o||(s.value=s.value.replace(/^[\t ]+/,"")),o===u.children.length-1&&(s.value=s.value.replace(/[\t ]+$/,""))),!s.value)return u.children.splice(o,1),o}}const yn=function(e,t){let n,r;return typeof e=="function"?(r=e,n=t||{}):n=e||{},(n.document===void 0||n.document===null)&&(n=Object.assign({},n,{document:!0})),r?pn(r,n):hn(n)};function pn(e,t){return(n,r,i)=>{e.run($e(n,t),r,l=>{i(l)})}}function hn(e={}){return t=>$e(t,e)}export{a as all,yn as default,ce as defaultHandlers,de as one};
